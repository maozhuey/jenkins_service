# A0-testç¯å¢ƒå¿«ç…§

## åŸºæœ¬ç¯å¢ƒä¿¡æ¯
- **åˆ›å»ºæ—¶é—´**: 2025-10-05 23:40
- **æ“ä½œç³»ç»Ÿ**: macOS (M2å¤„ç†å™¨)
- **é¡¹ç›®è·¯å¾„**: /Users/hanchanglin/AIç¼–ç¨‹ä»£ç åº“/jenkins-service

## ä¾èµ–ç‰ˆæœ¬ä¿¡æ¯
### Node.jsç¯å¢ƒ
- **Node.jsç‰ˆæœ¬**: v22.17.1
- **npmç‰ˆæœ¬**: 11.5.2

### Dockerç¯å¢ƒ
- **Dockerç‰ˆæœ¬**: Docker version 28.1.1, build 4eba377
- **Docker Composeç‰ˆæœ¬**: Docker Compose version v2.35.1-desktop.1

### é¡¹ç›®ä¾èµ–
```json
/Users/hanchanglin/AIç¼–ç¨‹ä»£ç åº“/jenkins-service
â””â”€â”€ (empty)
```
**æ³¨æ„**: å½“å‰é¡¹ç›®ç›®å½•æ²¡æœ‰package.jsonï¼Œè¿™æ˜¯ä¸€ä¸ªJenkinsæœåŠ¡é…ç½®é¡¹ç›®

## ç¯å¢ƒå˜é‡é…ç½®
### æœ¬åœ°ç¯å¢ƒå˜é‡
```bash
å‘ç°ä»¥ä¸‹ç¯å¢ƒé…ç½®æ–‡ä»¶:
- .env.local (807 bytes, 2024-10-04) 
- .env.production (754 bytes, 2024-10-05)
- .env.public (636 bytes, 2024-10-03)
```

### ç”Ÿäº§ç¯å¢ƒå˜é‡
```bash
[é˜¿é‡Œäº‘ECSç¯å¢ƒå˜é‡ - å¾…æ”¶é›†]
```

## æ„å»º/è¿è¡Œå‘½ä»¤
### æœ¬åœ°å¼€å‘å‘½ä»¤
```bash
[è®°å½•ç‰¹æ®Šçš„æ„å»º/è¿è¡Œå‘½ä»¤ - å¾…æ”¶é›†]
```

### ç”Ÿäº§éƒ¨ç½²å‘½ä»¤
```bash
[Jenkinséƒ¨ç½²å‘½ä»¤ - å¾…æ”¶é›†]
```

## é”™è¯¯å †æ ˆä¿¡æ¯
### å®Œæ•´é”™è¯¯å †æ ˆï¼ˆstack traceï¼‰
```
[è·å–å®Œæ•´çš„é”™è¯¯å †æ ˆ - å¾…æ”¶é›†]
```

## å…³é”®æ¡†æ¶/åº“ç‰ˆæœ¬
- **Express**: [å¾…æ”¶é›†]
- **Docker**: [å¾…æ”¶é›†]
- **Jenkins**: [å¾…æ”¶é›†]
- **å…¶ä»–å…³é”®ä¾èµ–**: [å¾…æ”¶é›†]

## ä¾èµ–é”å®šæ–‡ä»¶
- **package-lock.json**: [æ£€æŸ¥æ˜¯å¦å­˜åœ¨]
- **å…¶ä»–é”å®šæ–‡ä»¶**: [å¾…æ”¶é›†]

## ç½‘ç»œé…ç½®
### Dockerç½‘ç»œé…ç½®
```bash
NETWORK ID     NAME                                     DRIVER    SCOPE
9c7d8ba7b736   bridge                                   bridge    local
83a5fe93fba7   host                                     host      local
13bb1ecf17f0   jenkins-service_jenkins-network          bridge    local
be86e5305a25   jenkins-service_tbk-production-network   bridge    local
21b47034d5a2   none                                     null      local
40db5fd6fa91   tbk_app-network                          bridge    local
```
**é‡è¦å‘ç°**: tbk_app-network åœ¨æœ¬åœ°ç¯å¢ƒä¸­å·²å­˜åœ¨ï¼

### é˜¿é‡Œäº‘ECSæœåŠ¡å™¨
- **IPåœ°å€**: 60.205.0.185 âš ï¸ **é‡è¦**: è¿™æ˜¯æ­£ç¡®çš„ç”Ÿäº§æœåŠ¡å™¨IPï¼Œä¸æ˜¯47.115.209.46
- **æ“ä½œç³»ç»Ÿ**: Linux (å…·ä½“ç‰ˆæœ¬å¾…ç¡®è®¤)
- **Dockerç‰ˆæœ¬**: å¾…ç¡®è®¤
- **ç”¨æˆ·**: root
- **å¯†ç **: han0419/
- **ç½‘ç»œçŠ¶æ€**: tbk_app-networkå·²åˆ›å»º (ID: d1a7b01d3972, å­ç½‘: 172.21.0.0/16)

### é˜¿é‡Œäº‘ECSç½‘ç»œé…ç½®
```bash
[ECSç½‘ç»œé…ç½®ä¿¡æ¯ - å¾…æ”¶é›†]
```

## ğŸ” é‡è¦å‘ç°
- `tbk_app-network` åœ¨æœ¬åœ°ç¯å¢ƒå·²å­˜åœ¨
- è¿™è¡¨æ˜æœ¬åœ°å’Œç”Ÿäº§ç¯å¢ƒå­˜åœ¨å·®å¼‚

## ğŸš¨ ECSç”Ÿäº§ç¯å¢ƒä¿¡æ¯ (2025-01-26)

### ECSè¿æ¥ä¿¡æ¯
- **IPåœ°å€**: 60.205.0.185
- **ç”¨æˆ·**: root
- **éƒ¨ç½²è·¯å¾„**: /root/tbk-deploy/

### ECS Dockerç¯å¢ƒ
- **Dockerç‰ˆæœ¬**: 26.1.3, build b72abbb
- **Docker Composeç‰ˆæœ¬**: v2.27.0

### ECSç½‘ç»œçŠ¶æ€
```
NETWORK ID     NAME                         DRIVER    SCOPE
20b109d0976f   bridge                       bridge    local (172.17.0.0/16)
a364890954dc   host                         host      local
e6f5a5b92863   none                         null      local
26038b242bd8   tbk-manual-net               bridge    local (172.22.0.0/16) âš ï¸
fead972525b6   tbk_tbk-production-network   bridge    local (172.20.0.0/16)
```

### ğŸ¯ å…³é”®å‘ç°
1. **ensure_network.shè„šæœ¬ä¸å­˜åœ¨**: `/root/tbk-deploy/ensure_network.sh` æ–‡ä»¶ä¸å­˜åœ¨
2. **ç½‘ç»œå­ç½‘å†²çª**: `tbk-manual-net` å·²å ç”¨ `172.22.0.0/16` å­ç½‘
3. **ç½‘ç»œåˆ›å»ºå¤±è´¥**: å°è¯•åˆ›å»º `tbk_app-network` æ—¶æŠ¥é”™ "Pool overlaps with other one on this address space"

---
*æ­¤æ–‡æ¡£å°†åœ¨æ”¶é›†å®Œæ•´ä¿¡æ¯åæä¾›ç»™è¯Šæ–­åˆ†æä½¿ç”¨*